# tfmodule_azure_cdn

## Overview

Alaska Airlines Terraform Module for creating App Services  

To stay up to date on our latest changes, visit our [Changelog](./docs/CHANGELOG.md)

## Usage

```hcl
module "tfmodule_azure_cdn" {
  source = "github.com/AlaskaAirlines/tfmodule_azure_cdn"
}
```

<!-- BEGINNING OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
## Requirements

No requirements.

## Providers

| Name | Version |
|------|---------|
| azurerm | n/a |

## Modules

No Modules.

## Resources

| Name |
|------|
| [azurerm_cdn_endpoint](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/cdn_endpoint) |
| [azurerm_cdn_profile](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/cdn_profile) |
| [azurerm_resource_group](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/data-sources/resource_group) |
| [azurerm_storage_account](https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/storage_account) |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| access\_tier | The access tier of the storage account. | `string` | `"Hot"` | no |
| account\_kind | The kind of storage account. | `string` | `"StorageV2"` | no |
| account\_replication\_type | Defines the type of replication to use for this storage account. Valid options are LRS, GRS, RAGRS, ZRS, GZRS and RAGZRS. | `string` | `"GRS"` | no |
| allowed\_headers | A list of headers that are allowed to be a part of the cross-origin request. | `list(string)` | `[]` | no |
| allowed\_methods | A list of http headers that are allowed to be executed by the origin. Valid options are `DELETE`, `GET`, `HEAD`, `MERGE`, `POST`, `OPTIONS`, `PUT` or `PATCH`. | `list(string)` | <pre>[<br>  "GET",<br>  "HEAD"<br>]</pre> | no |
| allowed\_origins | A list of origin domains that will be allowed by CORS. | `list(string)` | <pre>[<br>  "*"<br>]</pre> | no |
| appName | The base name of the application used in the naming convention. | `string` | n/a | yes |
| cdn\_sku\_profile | The pricing related information of current CDN profile. Accepted values are 'Standard\_Akamai', 'Standard\_Microsoft', 'Standard\_Verizon' or 'Premium\_Verizon'. | `string` | `"Standard_Akamai"` | no |
| custom\_404\_path | path from your repo root to your custom 404 page | `string` | `"404.html"` | no |
| environment | Name of the environment ex (Dev, Test, QA, Prod) | `string` | n/a | yes |
| exposed\_headers | A list of response headers that are exposed to CORS clients. | `list(string)` | `[]` | no |
| location | Specifies the supported Azure location where the resource exists. Changing this forces a new resource to be created. | `string` | `"westus2"` | no |
| max\_age\_in\_seconds | The number of seconds the client should cache a preflight response.  Defaults to 2 days | `number` | `172800` | no |
| resource\_group\_name | Name of the resource group that exists in Azure | `string` | n/a | yes |

## Outputs

| Name | Description |
|------|-------------|
| endpoint\_id | The ID of the CDN Endpoint. |
| profile\_id | The ID of the CDN Profile. |
| storage\_name | the name of the storage account |
| storage\_principal\_id | The Principal ID for the Service Principal associated with the Identity of this Storage Account. |
<!-- END OF PRE-COMMIT-TERRAFORM DOCS HOOK -->

## Development

### Prerequisites

- [terraform](https://learn.hashicorp.com/terraform/getting-started/install#installing-terraform)
- [terraform-docs](https://github.com/segmentio/terraform-docs)
- [pre-commit](https://pre-commit.com/#install)
- [golang](https://golang.org/doc/install#install)
- [golint](https://github.com/golang/lint#installation)

### Configurations

Issue the following command

```sh
make install
```

This will perform the following steps for you

- Initialize git repository
- Install pre-commit hooks
- Install Terraform
- Prepare testing framework

### Tests

- Tests are available in `test` directory
- In the module root directory, run the below command

```sh
make test
```

## Maintainers

Author: Shadow Quests (E-Commerce Platform Team) &lt;shadowquests@alaskaair.com&gt;

> This project was generated by [generator-aag-terraform-module](https://github.com/AlaskaAirlines/generator-aag-terraform-module)
